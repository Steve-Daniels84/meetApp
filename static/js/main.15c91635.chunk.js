(this.webpackJsonpmeetapp=this.webpackJsonpmeetapp||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(2),r=a.n(l);a(12),a(13);var c=e=>{var t,a;let{event:l}=e;const[r,c]=Object(n.useState)(!1);return o.a.createElement("li",null,o.a.createElement("p",null,l.summary),o.a.createElement("p",null,null===(t=l.start)||void 0===t?void 0:t.dateTime),o.a.createElement("p",null,null===(a=l.end)||void 0===a?void 0:a.dateTime),o.a.createElement("p",null,l.location),o.a.createElement("button",{onClick:()=>c(!r)},r?"Hide details":"Show details"),r?o.a.createElement("p",{role:"description",className:"details"},l.description):o.a.createElement(o.a.Fragment,null))};var s=e=>{let{events:t,index:a}=e;return o.a.createElement("ul",{id:"event-list"},t?t.map(e=>o.a.createElement(c,{key:e.id,event:e})):null)};var i=e=>{let{allLocations:t,setCurrentCity:a}=e;const[l,r]=Object(n.useState)(!1),[c,s]=Object(n.useState)(""),[i,u]=Object(n.useState)([]);Object(n.useEffect)(()=>{t.length>0&&u(t)},[JSON.stringify(t)]);const m=e=>{const t=e.target.textContent;s(t),r(!1),a(t)};return o.a.createElement("div",{id:"city-search"},o.a.createElement("input",{type:"text",className:"city",placeholder:"Search for a city",value:c,onFocus:()=>r(!0),onChange:e=>{const a=e.target.value,n=t?t.filter(e=>e.toUpperCase().indexOf(a.toUpperCase())>-1):[];s(a),u(n)}}),l?o.a.createElement("ul",{className:"suggestions"},i.map(e=>o.a.createElement("li",{key:e,onClick:m,id:e},e)),o.a.createElement("li",{key:"See all cities"},o.a.createElement("b",null,"See all cities"))):null)};var u=e=>{let{setCurrentNOE:t,setErrorAlert:a}=e;const[l,r]=Object(n.useState)(32);return o.a.createElement("div",{id:"numberOfEvents"},o.a.createElement("label",{htmlFor:"number",id:"number"},"Number of Events:",o.a.createElement("input",{type:"text",className:"number",value:l,onChange:e=>{let n=e.target.value;isNaN(n)||n.length<=0?a("Please enter a valid number"):(a(""),r(n),t(n))}})))};const m=async()=>{const e=await d();if(e){(()=>{let e;window.history.pushState&&window.location.pathname?(e=window.location.protocol+"//"+window.location.host+window.location.pathname,window.history.pushState("","",e)):(e=window.location.protocol+"//"+window.location.host,window.history.pushState("","",e))})();const t="https://go95ldn5h7.execute-api.eu-west-2.amazonaws.com/dev/api/getCalendarEvents/"+e,a=await fetch(t),n=await a.json();return n?n.events:null}},d=async e=>{try{const t=encodeURIComponent(e),a="https://go95ldn5h7.execute-api.eu-west-2.amazonaws.com/dev/api/token"+"/"+t,n=await fetch(a);if(!n.ok)throw new Error("HTTP error! status: "+n.status);const{access_token:o}=await n.json();return o&&localStorage.setItem("access_token",o),o}catch(t){return t}};var p=()=>{const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)(25),[r,c]=Object(n.useState)([]),[d,p]=Object(n.useState)("See all cities"),w=async()=>{const e=await m(),n="See all cities"===d?e:e.filter(e=>e.location===d),o=await n.slice(0,a);t(o),c((e=>{const t=e.map(e=>e.location);return[...new Set(t)]})(e))};return Object(n.useEffect)(()=>{w()},[d]),o.a.createElement("div",{className:"App"},o.a.createElement(i,{allLocations:r,setCurrentCity:p}),o.a.createElement(u,{setCurrentNOE:l}),o.a.createElement(s,{events:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,15)).then(t=>{let{getCLS:a,getFID:n,getFCP:o,getLCP:l,getTTFB:r}=t;a(e),n(e),o(e),l(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)}),w()},3:function(e,t,a){e.exports=a(14)}},[[3,1,2]]]);
//# sourceMappingURL=main.15c91635.chunk.js.map